// Copyright (c) Bentley Systems, Incorporated. All rights reserved.
// See LICENSE.md in the project root for license terms and full copyright notice.
@use 'sass:map';
@use '../utils/hex' as *;
@use '../utils/get-hsl' as *;

// #region SASS variables
$bg-saturation: 5%;
$bg-lightness-gap: 4%;
$fg-lightness-gap: 6%;
// #endregion

// #region Background colors
// Lightest @ top, darkest @ bottom
$bg-0: hsl(203 $bg-saturation 100%);
$bg-50: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 0.5));
$bg-100: hsl(203 $bg-saturation (100% - $bg-lightness-gap));
$bg-200: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 2));
$bg-300: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 3));
$bg-400: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 4));
$bg-500: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 5));
$bg-600: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 6));
$bg-700: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 7));
$bg-800: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 8));
$bg-900: hsl(203 $bg-saturation (100% - $bg-lightness-gap * 9));

$bg-accent-0: oklch(94% 0.017 var(--accent-hue));
$bg-informational-0: oklch(94% 0.017 256);
$bg-positive-0: oklch(94% 0.017 142);
$bg-warning-0: oklch(94% 0.017 80);
$bg-negative-0: oklch(94% 0.017 28);

$bg-accent-1: oklch(44% 0.19 var(--accent-hue));
$bg-informational-1: oklch(44% 0.19 256);
$bg-positive-1: oklch(44% 0.19 142);
$bg-warning-1: oklch(44% 0.19 80);
$bg-negative-1: oklch(44% 0.19 28);

$bg-accent-2: oklch(34% 0.19 var(--accent-hue));
$bg-informational-2: oklch(34% 0.19 256);
$bg-positive-2: oklch(34% 0.19 142);
$bg-warning-2: oklch(34% 0.19 80);
$bg-negative-2: oklch(34% 0.19 28);
// #endregion

// #region Foreground colors
// Darkest @ top, lightest @ bottom
$fg-0: hsl(0 0% 0%);
$fg-100: hsl(0 0% $fg-lightness-gap);
$fg-200: hsl(0 0% ($fg-lightness-gap * 2));
$fg-300: hsl(0 0% ($fg-lightness-gap * 3));
$fg-400: hsl(0 0% ($fg-lightness-gap * 4));
$fg-500: hsl(0 0% ($fg-lightness-gap * 5));
$fg-600: hsl(0 0% ($fg-lightness-gap * 6));
$fg-700: hsl(0 0% ($fg-lightness-gap * 7));
$fg-800: hsl(0 0% ($fg-lightness-gap * 8));
$fg-900: hsl(0 0% ($fg-lightness-gap * 9));

$fg-accent-0: oklch(28% 0.19 var(--accent-hue));
$fg-informational-0: oklch(28% 0.19 256);
$fg-positive-0: oklch(28% 0.19 142);
$fg-warning-0: oklch(28% 0.19 80);
$fg-negative-0: oklch(28% 0.19 28);

$fg-accent-1: oklch(39% 0.19 var(--accent-hue));
$fg-informational-1: oklch(39% 0.19 256);
$fg-positive-1: oklch(39% 0.19 142);
$fg-warning-1: oklch(39% 0.19 80);
$fg-negative-1: oklch(39% 0.19 28);

$fg-accent-2: oklch(47% 0.19 var(--accent-hue));
$fg-informational-2: oklch(47% 0.19 256);
$fg-positive-2: oklch(47% 0.19 142);
$fg-warning-2: oklch(47% 0.19 80);
$fg-negative-2: oklch(47% 0.19 28);
// #endregion

$opacities: (
  1: 1,
  2: 0.8,
  3: 0.6,
  4: 0.4,
  5: 0.2,
  6: 0.1,
);

@mixin theme {
  @each $level, $value in $opacities {
    --iui-opacity-#{$level}: #{$value};
  }

  // #region Background variables
  --iui-color-background: #{hex($bg-0)};
  --iui-color-background-zebra: #{hex($bg-50)};
  --iui-color-background-hover: #{hex($bg-100)};
  --iui-color-background-backdrop: #{hex($bg-200)};
  --iui-color-background-backdrop-hover: #{hex($bg-300)};
  --iui-color-background-disabled: #{hex($bg-400)};
  --iui-color-background-accent: #{$bg-accent-1};
  --iui-color-background-accent-hover: #{$bg-accent-2};
  --iui-color-background-accent-muted: #{$bg-accent-0};
  --iui-color-background-informational: #{$bg-informational-1};
  --iui-color-background-informational-hover: #{$bg-informational-2};
  --iui-color-background-informational-muted: #{$bg-informational-0};
  --iui-color-background-positive: #{$bg-positive-1};
  --iui-color-background-positive-hover: #{$bg-positive-2};
  --iui-color-background-positive-muted: #{$bg-positive-0};
  --iui-color-background-warning: #{$bg-warning-1};
  --iui-color-background-warning-hover: #{$bg-warning-2};
  --iui-color-background-warning-muted: #{$bg-warning-0};
  --iui-color-background-negative: #{$bg-negative-1};
  --iui-color-background-negative-hover: #{$bg-negative-2};
  --iui-color-background-negative-muted: #{$bg-negative-0};
  --iui-color-background-transparent-hover: #{hsl(0 0% 0% / 0.08)};
  // #endregion
  // #region Border variables
  --iui-color-border-subtle: #{hex($bg-700)};
  --iui-color-border: #{hex($bg-900)};
  --iui-color-border-foreground: #{hex($fg-800)};
  --iui-color-border-foreground-hover: #{hex($fg-600)};
  --iui-color-border-disabled: #{hex($bg-700)};
  --iui-color-border-accent: #{$fg-accent-1};
  --iui-color-border-informational: #{$fg-informational-1};
  --iui-color-border-positive: #{$fg-positive-1};
  --iui-color-border-warning: #{$fg-warning-1};
  --iui-color-border-negative: #{$fg-negative-1};
  // #endregion
  // #region Icon variables
  --iui-color-icon: #{hex($fg-300)};
  --iui-color-icon-hover: #{hex($fg-200)};
  --iui-color-icon-muted: #{hex($fg-600)};
  --iui-color-icon-muted-hover: #{hex($fg-500)};
  --iui-color-icon-disabled: #{hex($fg-800)};
  --iui-color-icon-accent: #{$fg-accent-2};
  --iui-color-icon-informational: #{$fg-informational-2};
  --iui-color-icon-positive: #{$fg-positive-2};
  --iui-color-icon-warning: #{$fg-warning-2};
  --iui-color-icon-negative: #{$fg-negative-2};
  // #endregion
  // #region Text variables
  --iui-color-text: #{hex($fg-200)};
  --iui-color-text-hover: #{hex($fg-100)};
  --iui-color-text-muted: #{hex($fg-500)};
  --iui-color-text-disabled: #{hex($fg-700)};
  --iui-color-text-accent: #{$fg-accent-1};
  --iui-color-text-accent-hover: #{$fg-accent-0};
  --iui-color-text-informational: #{$fg-informational-1};
  --iui-color-text-informational-hover: #{$fg-informational-0};
  --iui-color-text-positive: #{$fg-positive-1};
  --iui-color-text-positive-hover: #{$fg-positive-0};
  --iui-color-text-warning: #{$fg-warning-1};
  --iui-color-text-warning-hover: #{$fg-warning-0};
  --iui-color-text-negative: #{$fg-negative-1};
  --iui-color-text-negative-hover: #{$fg-negative-0};
  // #endregion
  // #region HSL variables for transparency
  --iui-color-background-hsl: #{get-hsl($bg-0)};
  --iui-color-foreground-hsl: #{get-hsl($fg-100)};
  // TODO: These need to be fixed
  // --iui-color-accent-hsl: var(--iui-color-informational-hsl);
  // --iui-color-informational-hsl: #{get-hsl($fg-informational-2)};
  // --iui-color-positive-hsl: #{get-hsl($fg-positive-2)};
  // --iui-color-warning-hsl: #{get-hsl($fg-warning-2)};
  // --iui-color-negative-hsl: #{get-hsl($fg-negative-2)};
  // #endregion
}
